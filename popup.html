<!DOCTYPE html>
<html>
<head>
<link type="text/css" rel="stylesheet" href="css/base.css" />
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript">
var gid = function(i){return document.getElementById(i);}
var Controller = function(){return chrome.extension.getBackgroundPage()};
var total = 0,aid,last_id,Interval,isUp = false,LoginUp,Iniciado;
var db = Controller().db;
var Slogan = Traduz('slogan');

var AtivaLog = true;
var Trava = false;

function log(a){
  if(AtivaLog) console.log(a);
}
var bActive = false;
function Active(e){
    if(bActive){
        bActive.attr('active', 'false');
    }
    e.attr('active', 'true');
    bActive = e;
}

function SwichPainel(){
  if(Controller().config.ShowPainel){
      Controller().config.ShowPainel = false;
      $('.info').slideUp();
      $('#PainelSeta').attr('src', 'img/seta_down.png');
  }else{
      Controller().config.ShowPainel = true;
      $('.info').slideDown();
      $('#PainelSeta').attr('src', 'img/seta_up.png');
  }
  $('#PainelSeta').show();
}

function Scroll(event){
  Controller().Chrowety[event.data.lista].scroll = $('#twets_'+event.data.lista)[0].scrollTop;
}

var LT = {
    home:function(){
        var name = 'home';
        var loaded = Controller().Chrowety[name]._loaded;
        if(!loaded){
          Controller().Chrowety[name].scroll = 0;
          return false;
        }
        db.salva('AbaAtiva', name);
        var b = $('#bhome');
        if(b.attr('disabled')) return false;
        Button.home(b);
        $('#load_result').text('Loading Home...');
        $('.twets_con').hide();
        $('#tcon_home').show();
        $('#twets_home').empty();
        $('#twets_home').html($(Controller().fec.html(name)));
        $('#twets_home').append($('<div id="showMore_link_home" class="show_more" onclick="ShowMore(\'home\')" title="'+Traduz('show_more')+'">'+Traduz('show_more')+'</div>'));
        SearchData();
        $('#twets_home')[0].scrollTop = Controller().Chrowety[name].scroll;
        $('#twets_home').bind("scroll", {lista:name}, Scroll);
        $('#load').hide();
    },
    mentions:function(){

    },
    messages:function(){

    },
    favorites:function(){

    }
};

var Button = {
    home:function(el){
        Active($(el));
    },
    mentions:function(el){
        Active($(el));
    },
    messages:function(el){
        Active($(el));
    },
    favorites:function(el){
        Active($(el));
    }
};

function Traduz(s){
  return Controller().Traduz(s);
}

function Alerta(){
  var html = ''
  $(document).append();
}

function LoadProfile(){
   $('#username').text(db.pega('user'));
   $('#user_nome').text(db.pega('nome'));
   $('#seguindo').text(db.pega('seguindo') + ' ' + Traduz('following'));
   $('#seguidores').text(db.pega('seguidores') + ' ' + Traduz('followers'));
   $('#foto').attr('src', db.pega('foto'));
   $('#PhotoLink').attr('href', 'http://twitter.com/home');
   $('#SeguindoLink').attr('href', 'http://twitter.com/'+db.pega('user')+'/following');
   $('#SeguidoresLink').attr('href', 'http://twitter.com/'+db.pega('user')+'/followers');
   $('.info').show();
}

function RefreshResult(n, time){
    if(n > 0){
      var t = n > 1 ? ' new tweets' : ' new tweet';
      $('#new_twets_'+time).fadeIn();
      $('#new_twets_'+time).text(n+t);
    }
}

function RefreshTweets(time){
    $('#new_twets_'+time).fadeOut();
    eval('LT.'+time+'()');
    Controller().ClearUnreads();
}

function RefreshLimit(n){
    $('#load_image').hide();
    if(n == 0){
        $('#load_result').text('API Limit Excedeed');
    }else{
        $('#load_result').text('Remaining API: '+n);
    }
    $('#load').fadeIn();
}

function SearchData(){
  $('.tweetdata').each(function(n,w){
    $(w).text(Controller().TweetData($(w).attr('data')));
  })
}

function init(){
  if(!Controller().Logado){
    $('#login').fadeIn(function(){
      $('#usuario').val(db.pega('user'));
      $('#usuario').focus();
    });
    LoginUp = true;
    return false;
  }

  //Controller().CheckLimit('Popup().LT.home()');

  window.setTimeout("Controller().ClearUnreads('home')", 500);
  LoadProfile();
  $('#login').hide();
  LoginUp = false;
  $('#reply_text_update').val(Slogan);
  $('#init').show();

  if(Controller().Chrowety.profile_last_view){
    window.setTimeout('ShowUser(Controller().Chrowety.profile_last_view)', 90);
  }
  if(Controller().Utils.Twitpic.vendo){
    window.setTimeout('Twitpic(Controller().Utils.Twitpic.vendo)', 90);
  }

  if(db.pega('AbaAtiva') == 'mentions'){
    LT.mentions();
  }else{
    LT.home();
  }

}

function ShowMore(timeline){
    $('#showMore_link_'+timeline).html($('<img id="showMore_load" src="img/load.gif" />'));
    //Controller().ShowMore(timeline);
    Controller().ContaTweets();
    Controller().Chrowety[timeline].Max();

}

function ShowMoreOK(old, timeline){
    $('#showMore_link_'+timeline).remove();
    if(old){
        $('#twets_'+timeline).append(old);
        SearchData();
        $('#twets_'+timeline).append($('<div id="showMore_link_'+timeline+'" class="show_more" onclick="ShowMore(\''+timeline+'\')" title="'+Traduz('show_more')+'">'+Traduz('show_more')+'</div>'));

    }else{
        $('#twets_'+timeline).append($('<div class="no_more">'+Traduz('no_more_tweets')+'</div>'));    }
}

function Link(e, h){
    if(h){
      var href = 'chrome-extension://'+location.hostname+'/conf.html';
      log('Creating Tab: '+href);
      chrome.tabs.create({url: href});
    }else{
      log('Creating Tab: '+e.href);
      chrome.tabs.create({url: e.href});
    }
}

function DisableButton(tid, str){
     gid((str ? str : 'botao_')+tid).setAttribute("disabled","disabled");
}

function Count(tid, time, pulaBak){//Conta o limite de caracteres do tweet e salva backup
   var r = $('#reply_text_'+tid);
   if(tid == 'update'){
     log('Backup Update: '+r.val());
     db.salva('update_backup', r.val());
   }else{
     if(!pulaBak){
       Controller().console.log('Count('+tid+', \''+time+'\')');
       BackupReply(tid, r.val(), time);
     }
   }
   var n = parseInt(140-r.val().length), el = $('#count_'+tid);
   r.attr('count', n);
   if(n < 0){
     DisableButton(tid);
     el.addClass('vermelho');
   }else if(n == 140){
     DisableButton(tid);
   }else{
     $('#botao_'+tid).removeAttr("disabled");
     el.removeClass('vermelho');
   }
   el.text(n);
}

function Deleta(tid, tm){
  Controller().Chrowety.deleta(tid, tm);
  $('#tweply_'+tid).fadeOut(function(){
    $('#tweply_'+tid).remove();
    $('#twets_home');
  });
}

function Favorite(tid, tm){
  Controller().Chrowety.favorite(tid, tm);
  $('#tweet_fav_'+tid).removeClass("opts");
  $('#tweet_fav_'+tid).addClass("dn");
  $('#tweet_ifav_'+tid).attr('src', 'img/favload.gif');
  $('#tweet_ifav_'+tid).show();
}

function UnFavorite(tid, tm){
  Controller().Chrowety.unfavorite(tid, tm);
  $('#tweet_fav_'+tid).addClass("dn");
  $('#tweet_ifav_'+tid).attr('src', 'img/favload.gif');
  $('#tweet_ifav_'+tid).show();
}

function FavOK(tid, fav, tm){
  var Star = $('#tweet_fav_'+tid);
  $('#tweet_ifav_'+tid).hide();

  if(fav){
    $('#tweet_fav_'+tid).removeClass("dn");
    Star.attr({
        title: Traduz('unfavorite'),
        fav:"true",
    });
    Star.unbind();
    Star.bind("click", function(){return UnFavorite(tid, tm);});
  }else{
    Star.addClass("opts");
    Star.attr("title", Traduz('favorite'));
    Star.removeAttr('fav');
    Star.unbind();
    Star.bind("click", function(){return Favorite(tid, tm);});
  }
}

function UpdateOK(re, tm){
  $('#reply_status_update').text('OK');
  $('#twets_'+tm).html(re+$('#twets_'+tm).html());;
  SearchData();
  UpdateCancel();
  HideShortLink('update');
}

function doUpdate(){
  DisableButton('update');
  var txt = $('#reply_text_update').val();
  log('Sending update: '+txt);
  $('#reply_status_update').text('Sending...');
  Controller().Chrowety.update(txt, null, 'home');
}

function Update(){
  if(isUp == true) return false;
  $('#reply_text_update').animate({height: "50px",opacity: 0.5}, 0,function(){
        isUp = true;
        var bak = db.pega('update_backup');
        if(bak && bak != Slogan){
           $("#reply_text_update").val(db.pega('update_backup'));
        }else{
            $("#reply_text_update").val('');
        }
        $("#reply_text_update").focus();
        $("#update_co2").slideDown("fast");
        Count('update');
  });
}

function UpdateCancel(){
  $('#update_co2').slideUp("fast", function(){
     Count('update');
     $('#reply_status_update').text('');
     $("#reply_text_update").val(Slogan);
     db.deleta('update_backup');
     $('#reply_text_update').animate({height: "20px",opacity: 0.5}, 0);
     isUp = false;
     HideShortLink('update');
  });
}

function doReply(tid, time){
    DisableButton(tid);
    var txt = $('#reply_text_'+tid).val();
    log('Sending: '+txt+' tid: '+tid);
    $('#new_retweet_'+tid).hide();
    $('#reply_status_'+tid).text('Sending...');
    Controller().Chrowety.update(txt, tid, time);
    BackupReplyCancel(tid, time);
}

//> Inicio Short Link
function HideShortLink(tid){
    $('#short_link_url_'+tid).animate({
            width: "1.75em",
            opacity: 0.5
    },500);
    $('#short_link_url_'+tid).val('');
}

function ShowShortLink(tid){
    Controller().Utils.GetTabUrl();
    $('#short_link_url_'+tid).animate({
            width: (tid == 'update' ? "340px" : "250px"),
            opacity: 1.0
    },500);

    chrome.tabs.getSelected(null, function(tab) {
        $('#short_link_url_'+tid).val(tab.url);
        $('#short_link_url_'+tid).select();
    });
}

function ShortLink(tid, time){
    var url = $('#short_link_url_'+tid).val();
    if(!url){
        ShowShortLink(tid);
        return false;
    }
    $('#short_link_url_'+tid).val('Shorting URL...');
    Controller().Utils.Short.Threely(url, tid, time);
}

function ShortLinkOK(tid, time, url){
    $('#short_link_url_'+tid).val('OK! Shorted!');
    $('#reply_text_'+tid).focus();
    $('#reply_text_'+tid).val($('#reply_text_'+tid).val()+' '+url+' ');
    Count(tid, time);
    HideShortLink(tid);
}
//> FIM Short Link


function BackupReply(tid, txt, time){
    $('#reply_text_'+tid).attr('backup', txt);
    Controller().fec.ByTid(time, tid).reply_backup = txt;
    console.log('Backuping Reply: '+tid+' > '+txt);
}

function BackupReplyCancel(tid, time){
    $('#reply_text_'+tid).removeAttr('backup');
    Controller().fec.ByTid(time, tid).reply_backup = false;
}

function Reply(tid, status, time){//Mostra o elemento de Reply
  var user = '@'+$('#user_'+tid).val();
  var bak  = $('#reply_text_'+tid).attr('backup');
  var txt  = bak && !status ? bak : (status ? status : user+' ');
  $('#reply_'+tid).slideDown("fast", function(){
     if(status){
       $('#reply_text_'+tid).attr('disabled', 'disabled');
       $('#reply_rt_'+tid).hide();
       $('#retweet_choice_'+tid).show();
     }else{
       $('#reply_text_'+tid).removeAttr('disabled');
       $('#retweet_choice_'+tid).hide();
       $('#reply_rt_'+tid).show();
     }
     $('#reply_text_'+tid).focus();
     $('#reply_text_'+tid).val(txt);
     Count(tid, time, true);
     $('#twets_home');
  });
}

function ReplyCancel(tid, time){//Esconde o elemento de Reply
  $('#reply_status_'+tid).text('');
  $('#reply_'+tid).slideUp("fast", function(){
     BackupReplyCancel(tid, time);
     $('#retweet_choice_'+tid).hide();
     $('#reply_text_'+tid).removeAttr('disabled');
     $('#reply_text_'+tid).val('');
     Count(tid, time);
     HideShortLink(tid);
  });
}

function ReplyOK(tid, time){//Esconde o elemento de Reply
  $('#reply_status_'+tid).text('OK');
  $('#reply_'+tid).slideUp(function(){
     $('#reply_text_'+tid).val('');
     init();
     Count(tid, time);
     HideShortLink(tid);
  });
}

function RetweetOficial(tid){//Mostra o elemento do Reply com o Retweet
  DisableButton(tid, 'rt_now_');
  log('Retweeting... tid: '+tid);
  $('#edit_rt_'+tid).hide();
  $('#rt_now_'+tid).text('Wait...');
  $('#reply_status_'+tid).text('Retweeting...');
  Controller().Chrowety.retweet(tid);
}

function RetweetEdit(tid){
    $('#reply_text_'+tid).removeAttr('disabled');
    $('#retweet_choice_'+tid).hide();
    $('#reply_rt_'+tid).show();
    var a = $('#reply_text_'+tid).val();
    $('#reply_text_'+tid).val('');
    $('#reply_text_'+tid).focus();
    $('#reply_text_'+tid).val(a);
}

function Retweet(tid, time){//Mostra o elemento do Reply com o Retweet
  var user = '@'+$('#user_'+tid).val(),
      txt = 'RT '+user+': '+$('#texto_'+tid).text();
  Reply(tid, txt, time);
}

function RetweetRT(tid, time){//Mostra o elemento do Reply com o Retweet
  var txt = $('#texto_'+tid).attr("data");
  Reply(tid, txt, time);
}

function RetweetOK(tid){
  $('#reply_status_'+tid).text('OK');
  $('#reply_'+tid).slideUp(function(){
     $('#reply_text_'+tid).val('');
     $('#twets_home');
  });
}

function LoginStatus(t){
    var re = $('#status_login');
    re.text(t);
}

function GoLogin(){
  $('#init').fadeOut(function(){
     $('#login').fadeIn();
     window.close();
  });
}

function PictureZoom(el, outforce){
    var zoom = $(el).attr('zoom');
    if(zoom == 'in' && !outforce){
        var newsrc = $(el).attr('src').replace('_normal', '');
        var newImage = new Image();
        newImage.src = newsrc;
        $('#user_data').hide();
        $('#user_rest').hide();
        $(el).animate({height: "300px", width: "300px"}, 600,function(){
            $(el).attr('zoom', 'out');
            $(el).attr('src', newsrc);
        });
    }else{
        $('#user_data').show();
        $('#user_rest').show();
        $(el).animate({height: "100px", width: "100px"}, 600,function(){
            $(el).attr('zoom', 'in');
        });
    }

}

function ShowUser(uname){
    $('.popup_bg').fadeIn();
    Controller().Chrowety.profile_last_view = uname;
    Controller().Chrowety.user(uname);
}

function ShowUserERRO(){
    Controller().Utils.Twitpic.vendo = null;
    Controller().Chrowety.profile_last_view = null;
    $('#user_protegido').addClass('dn');
    $('#user_info').hide();
    $('#user_unome').text('');
    $('#user_uname').text('');
    $('#user_uname').attr('href', '');
    $('#user_local').text('');
    $('#user_bio').text('');
    $('#user_link').attr('href', '');
    $('#user_link').text('');
    $('#user_photo').attr('src', '');
    $('#user_followers').text('');
    $('#user_following').text('');
    $('#user_tweets').text('');
    $('#user_update').text('');
    $('#user_update_data').text('');
    $('#user_update_data').attr('href', '');
    $('#user_update_via').html('');

    PictureZoom($('#user_photo'), true);
    HidePopup();
}

function HidePopup(){
    $('.popup').fadeOut("fast");
    $('#youtube_preview').hide();
    $('#twitpic_preview').hide();
    $('#user_info').hide();
    $('.popup_bg').hide();
    $('.popup').hide();
}

function ShowPopup(){
    $('.popup_bg').show();
    $('.popup').fadeIn("fast");
    var lef = ( ($('#init').css('width').split('px')[0]) - ($('.popup').css('width').split('px')[0]) ) / 2;
    var top = ( ($('#init').css('height').split('px')[0]) - ($('.popup').css('height').split('px')[0])) / 2;
    //Controller().console.log('popup left: '+lef);
    $('.popup').css({
     'margin-left':lef+'px',
     'margin-top':top+'px',
    });
}

function ShowUserOK(user){
    var u = user;

    $('#user_unome').text(u.name);
    $('#user_uname').text('@'+u.screen_name);
    $('#user_uname').attr('href', 'http://twitter.com/'+u.screen_name);
    $('#user_local').text(u.location);
    $('#user_local_link').attr('title', u.location);
    $('#user_local_link').attr('href', 'http://maps.google.com/?z=17&q='+u.location);
    $('#user_bio').text(u.description);
    $('#user_link').attr('href', u.url);
    $('#user_link').text(u.url);
    $('#user_photo').attr('src', u.profile_image_url);
    $('#user_followers').text(u.followers_count);
    $('#user_following').text(u.friends_count);
    $('#user_tweets').text(u.statuses_count);
    $('#user_since').text(Controller().SinceDate(u.created_at));

    if(u.verified){
        $('#user_verified').show();
    }else{
        $('#user_verified').hide();
    }

    if(!u.protected){
        var data = Controller().TweetData(u.status.created_at);
        var source = u.status.source.replace('rel=\"nofollow\"', 'class="cinza p8 source" onclick="Link(this);"');
        var txt = u.status.text;
        txt = txt.replace(/(^|&lt;|\s)(((https?|ftp):\/\/|mailto:).+?^twitpic^tweetphoto^pic.gd^youtube.com\/watch\?v=)(\s|&gt;|$)/g,' <a class="url" title="$2" href="$2" onclick="Link(this);">$2</a> ');
        txt = txt.replace(/((https?):\/\/twitpic.com\/([a-zA-Z_0-9]*|$))/g,' <a class="url" nohref="$1" title="$1" onclick="Twitpic(\'$3\');">$1</a>');
        txt = txt.replace(/((https?):\/\/(tweetphoto.com|www.tweetphoto.com\/|pic.gd\/)([a-zA-Z_0-9]*|$))/g,' <a class="url" nohref="$1" title="$1" onclick="Tweetphoto(\'$1\');">$1</a>');
        txt = txt.replace(/((https?):\/\/(www.youtube.com\/watch\?v=|youtube.com\/watch\?v=)([a-zA-Z_0-9]*|$))/g,' <a class="url" nohref="$1" title="$1" onclick="Youtube(\'$4\');">$1</a>');
        txt = txt.replace(/(^|&lt;|\s)((www).+?)(\s|&gt;|$)/g,' <a class="url" title="$2" href="http://$2" onclick="Link(this);">$2</a> ');
        txt = txt.replace(/(@|$)([a-zA-Z_0-9]*|$)/g,' $1<a class="usuario" title="$2" nohref="http://twitter.com/$2" onclick="ShowUser(\'$2\')">$2</a>');
        txt = txt.replace(/(^|&lt;|\s)(((https?|ftp):\/\/|mailto:).+?)(\s|&gt;|$)/g,' <a class="url" title="$2" href="$2" onclick="Link(this);">$2</a> ');
        txt = txt.replace(/(^|&lt;|a-zA-Z_0-9|\s)(#|$)([Á«·ÈÌÛ˙˝¡…Õ”⁄›‡ËÏÚ˘¿»Ã“Ÿ„ıÒ‰ÎÔˆ¸ˇƒÀœ÷‹√’—‚ÍÓÙ˚¬ Œ‘€_a-zA-Z_0-9]*|$)/g,' $2<a class="tag" title="$3" href="http://twitter.com/search?q=%23$3" onclick="Link(this);">$3</a>');
        $('#user_update').html(txt);
        $('#user_update_data').text(data);
        $('#user_update_data').attr('href', 'http://twitter.com/'+u.screen_name+'/status/'+u.status.id+'');
        $('#user_update_via').html(' via '+source);
        $('#user_update_div').show();
    }else{
        $('#user_protegido').removeClass('dn');
        $('#user_update_div').hide();
    }
    $('#user_info').show();

    ShowPopup();
}

function Twitpic(id){
    var url = Controller().Utils.Twitpic.thumb(id);
    $('#twitpic_link').attr('href', 'http://twitpic.com/'+id);
    $('#twitpic_photo').attr('src', url);
    $('#twitpic_preview').show();
    $('#user_info').hide();
    ShowPopup();
}

function Tweetphoto(id){
    var url = Controller().Utils.Tweetphoto.thumb(id);
    $('#twitpic_link').attr('href', id);
    $('#twitpic_photo').attr('src', url);
    $('#twitpic_preview').show();
    $('#user_info').hide();
    ShowPopup();
}

function Youtube(id){
    var url = "http://www.youtube.com/v/"+id;
    var url2 = "http://www.youtube.com/watch?v="+id;
    $('#youtube_link').attr('href', url2);
    $('#youtube_param').attr('movie', url);
    $('#youtube_embed').attr('src', url);
    $('#youtube_preview').show();
    $('#user_info').hide();
    ShowPopup();
}

function Login(){
  var user  = $('#usuario').val();
  var senha = $('#senha').val();
  var lembra = $('#lembrar').val();

  var re = $('#status_login');

  if(!user || !senha){
      re.fadeIn();
      if(!senha){
          re.text('Password is empty');
      }
      if(!user){
          re.text('User is empty');
      }
  }else{
      re.fadeIn();
      Controller().Login(user, senha, lembra);
      re.text(Traduz('logging'));
  }
}
$(document).ready(init);
</script>
</head>
<body>
<div id="init" class="init dn">
  <div class="menu">
    <!--<div class="Chrowety fl">Chrowety</div>-->
    <div id="load" class="load fr">
        <span id="load_result" class="fl"></span>
        <img id="load_image"src="img/load.gif" class="fl"/>†
    </div>

    <div class="info dn">
      <a id="PhotoLink" onclick="Link(this);"><img id="foto" width="32" height="32" src="" class="photo fl"/></a>
      <span class="fl">
      <span id="user_nome" class="p8">Chrowety</span> <span class="cinza">(<span id="username" class="p8">chrowety</span>)</span> - <a class="p8" href="javascript:Controller().Logout();GoLogin();"><script>document.write(Traduz('logout'))</script></a> <br />
      <a id="SeguindoLink" class="cinza p8" onclick="Link(this);"><span id="seguindo"></span></a> | <a id="SeguidoresLink" class="cinza p8" onclick="Link(this);"><span id="seguidores"></span></a>      </span>
    </div>
    <button id="bhome" onclick="LT.home();"><script>document.write(Traduz('home'))</script></button>
<!--
    <button id="bmentions" onclick="LT.mentions();" disabled="disabled"><script>document.write(Traduz('mentions'))</script></button>
    <button id="bdirects" onclick="LT.messages();" disabled="disabled"><script>document.write(Traduz('messages'))</script></button>
    <button id="bfavorites" onclick="LT.favorites();" disabled="disabled"><script>document.write(Traduz('favorites'))</script></button>
    <button id="bpainel" class="PainelButton fr" onclick="SwichPainel();" disabled="disabled"><img id="PainelSeta" class="dn"/></button>
-->
    <button title="Config" class="PainelButton fr" onclick="Link(this,true);"><img src="img/conf.png"/></button>

  </div>

  <div id="update" class="update">
    <textarea id="reply_text_update" onclick="Update();" onkeyup="Count('update')" class="t1"></textarea>
    <div id="update_co2" class="text2 dn">
      <div class="short fl" title="Short a Link">
        <button onclick="ShortLink('update', 'home')"  class="button fl">
            <img src="img/link.png" height="16" />
        </button>
        <input onfocus="ShowShortLink('update')" class="short_link_url fl" id="short_link_url_update" type="text" />
      </div>
      <br/><br/>
      <button id="botao_update" onclick="doUpdate()" title="Done"><script>document.write(Traduz('done'))</script></button>††
      <a onclick="UpdateCancel()" title="Cancel" class="p8"><script>document.write(Traduz('cancel'))</script></a>
      <span id="count_update">140</span>
      <span id="reply_status_update"></span>
    </div>
  </div>

  <div id="tcon_home" class="twets_con dn">
    <div id="new_twets_home" class="new_twets dn" onclick="RefreshTweets('home')"></div>
    <div id="twets_home" class="twets">
        <div class="tload"><img src="img/load.gif" /></div>
    </div>
  </div>

  <div id="tcon_mentions" class="twets_con dn">
    <div id="new_twets_mentions" class="new_twets dn" onclick="RefreshTweets('mentions')"></div>
    <div id="twets_mentions" class="twets">
        <div class="tload"><img src="img/load.gif" /></div>
    </div>
  </div>

  <div id="tcon_messages" class="twets_con dn">
    <div id="new_twets_messages" class="new_twets dn" onclick="RefreshTweets('messages')"></div>
    <div id="twets_messages" class="twets">
        <div class="tload"><img src="img/load.gif" /></div>
    </div>
  </div>

  <div id="tcon_favorites" class="twets_con dn">
    <div id="new_twets_favorites" class="new_twets dn" onclick="RefreshTweets('favorites')"></div>
    <div id="twets_favorites" class="twets">
        <div class="tload"><img src="img/load.gif" /></div>
    </div>
  </div>



  <div class="popup_bg dn" onclick="ShowUserERRO();"></div>
  <div class="popup dn">
    <span class="popup_close fr" onclick="ShowUserERRO();">X</span>
    <div id="short_url" class="dn">
        <input type="text"/><br /><br />
        <button>Short</button><br /><br />
        <span>Status</span>
    </div>

    <div id="youtube_preview" class="dn centro">
        <a id="youtube_link" class="cinza" onclick="Link(this);">
            <span class="p12 oceania fl"><script>document.write(Traduz('watch_on_youtube'))</script></span>
        </a>
        <br /><br />
        <object width="300" height="219" class="cb">
          <param id="youtube_param" name="movie" value=""></param>
          <param name="allowFullScreen" value="false"></param>
          <param name="allowscriptaccess" value="always"></param>
          <embed id="youtube_embed" src="" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="false" width="300" height="219"></embed>
        </object>
    </div>

    <div id="twitpic_preview" class="dn centro">
        <br /><br />
        <a id="twitpic_link" onclick="Link(this);">
            <img id="twitpic_photo" class="photo" width="250"/>
        </a>
    </div>

    <div id="user_info" class="dn">
        <div style="height:100px">
          <img id="user_photo" title="Click to Zoom" onclick="PictureZoom(this);" width="100" height="100" class="photo fl" zoom="in" src=""/>
          <span id="user_data" class="fl">
               <span id="user_protegido" class="cadeado dn" title="Protected">Protegido</span>
               <span id="user_unome" class="p12 oceania"></span><br />
               <span><a id="user_uname" onclick="Link(this);"></a></span><br />
               <a class="cinza" onclick="Link(this);" id="user_local_link"><span id="user_local"></span></a><br />
               <span><script>document.write(Traduz('member_since'))</script>: <span id="user_since"></span></span><br />
               <img id="user_verified" src="img/verified.png" class="dn"/><br />
          </span>
        </div>
        <div id="user_rest">
        <br />
        <div id="user_bio_div" class="cb">
            <span><a id="user_link" href="" onclick="Link(this)"></a></span><br />
            <span id="user_bio"></span>
            <br /><br />
        </div>
        <div class="centro" style="border-top:1px solid #ddd;border-bottom:1px solid #ddd;">
            <span class="centro inblock" style="width:70px">
              <span id="user_followers"></span>
              <br />
              <span><script>document.write(Traduz('followers'))</script></span>
            </span>

            <span class="centro inblock" style="width:70px">
              <span id="user_following"></span>
              <br />
              <span><script>document.write(Traduz('following'))</script></span>
            </span>

            <span class="centro inblock" style="width:70px">
              <span id="user_tweets"></span>
              <br />
              <span><script>document.write(Traduz('tweets'))</script></span>
            </span>
        </div>
        <div id="user_update_div" class="dn">
            <br /><br />
            <b><script>document.write(Traduz('last_update'))</script>: </b>
            <span id="user_update" class="txtsombra"></span><br />
            <span class="p8 cinza"><a class="p8 cinza" id="user_update_data" onclick="Link(this);"></a><span id="user_update_via"></span></span>
        </div>
        </div>
    </div>
  </div>


</div>

<div id="login" class="login dn">
    <form onsubmit="return Login();">
      <div class="title">Chrowety Login</div>
      <br />
      <label class="inp"><script>document.write(Traduz('username'))</script>:
          <input id="usuario" type="text" size="10" tabindex="1"/>
      </label>
      <br /><br />
      <label class="inp"><script>document.write(Traduz('password'))</script>:
          <input id="senha" type="password" size="10" tabindex="2" />
      </label>
      <br /><br />
      <label class="check">
          <input id="lembrar" type="checkbox" tabindex="3"/>
          <script>document.write(Traduz('remember'))</script>
      </label>
      <br /><br />
      <button type="submit" tabindex="3"><script>document.write(Traduz('login'))</script></button>
      <br /><br />
      <span id="status_login" class="dn"></span>
    </form>
</div>
</body>
</html>

